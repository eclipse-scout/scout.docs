////
Howto:
- Write this document such that it helps people to discover new features and other important changes of this release.
- Chronological order is not necessary.
- Describe necessary migration steps in the MigrationGuide document.
- Use "WARNING: {NotReleasedWarning}" on its own line to mark parts about not yet released code (also add a "(since <version>)" suffix to the chapter title)
- Use "title case" in chapter titles (https://english.stackexchange.com/questions/14/)
////

ifndef::finaldoc[]
include::../_initDoc.adoc[]
endif::finaldoc[]

== About This Release

The latest version of this release is: {maven-version}.

You can see the {github-changelog-link} on GitHub.

Coming from an older Scout version? Check out the {migration-guide-link} for instructions on how to obtain the new version and upgrade existing applications.

WARNING: {NotReleasedWarning}

//The following enhancements were made after the initial {scout-version} release.
//
//==== 23.1.1
//
// The initial release of this version was *23.1.0.xyz* (Maven: 23.1.0.xyz_Simrel_2023.13).
//
//WARNING: {NotReleasedWarning}
//
//(Section intentionally left blank for possible future release)
//
// * <<New Feature (since 23.1.0.xyz)>>
//
// ==== Upcoming -- No Planned Release Date
//
// The following changes were made after the latest official release build. No release date has been fixed yet.
//
// WARNING: {NotReleasedWarning}
//
// * <<New Feature (since 23.1.0.xyz)>>

== Demo Applications

The demo applications for this version can be found on the {scout-docs-link} branch of our docs repository on GitHub.

If you just want to play around with them without looking at the source code, you can always use the deployed versions:

* https://scout.bsi-software.com/contacts/
* https://scout.bsi-software.com/widgets/
* https://scout.bsi-software.com/jswidgets/

// ----------------------------------------------------------------------------

== ObjectType as Class Reference (Scout JS)
It is now possible to use a class reference as `objectType`.
An `objectType` is typically used when creating a new object using `scout.create(objectType)` or when defining a model.
Using a class reference instead of a string will make the development easier because the IDE knows about the actual type and can provide
code completion or and other assistance.

It may even improve the tree shaking process of the bundler (webpack).
Because using a class reference requires an `import`, the bundler automatically includes the imported module.

So,
[source, js]
----
scout.create('Button', {parent: this});
----

becomes this:

[source, js]
----
import {Button} from '@eclipse-scout/core';

scout.create(Button, {parent: this});
----

And this
[source, js]
----
export default () => ({
  objectType: 'Form',
  rootGroupBox: {
    objectType: 'GroupBox'
  }
});
----

becomes this:

[source,js]
----
import {Form, GroupBox} from '@eclipse-scout/core';

export default () => ({
  objectType: Form,
  rootGroupBox: {
    objectType: GroupBox
  }
});
----

Please see the {migration-guide-link} for migration assistance.

== Typed NodeId for node identifier

In previous versions several ways were used to create/use a node identfier (e.g. to identify a specific client/backend server):

* A typed class NodeId existed, the current identifier was accessed using `org.eclipse.scout.rt.dataobject.id.NodeId.current()`
* Node identifiers could be accessed as String using `org.eclipse.scout.rt.platform.context.NodeIdentifier.get()`
* And another node identifier (default implementation random UUID) could be accessed using  `org.eclipse.scout.rt.shared.INode#ID`

As of version 23.1 the typed `org.eclipse.scout.rt.dataobject.id.NodeId` is used wherever possible, the application scoped bean `org.eclipse.scout.rt.platform.context.NodeIdentifier` is still used for the computation of this typed `NodeId`. The `get()` method returning a `String` has been deprecated, the interface `org.eclipse.scout.rt.shared.INode` has been removed.

== IId interface, new IRootId and ICompositeId

In previous versions the `IId` interface was typed with a generic `WRAPPED_TYPE extends Comparable<WRAPPED_TYPE>`.
To be able to use the `IId` interface as general root for any kind of identifiers without having to deal with a concrete generic type, the generic type definition was removed and moved to the default implementation `AbstractRootId` and the typed sub-interfaces `IUuid`, `IStringId` and `ILongId`.

As new feature IIds may consist of multiple wrapped components (e.g. composite ids). Use `ICompositeId` and `AbstractCompositeId` as base to build own composite types.
Based on the adapted serialization mechanism (see `IdFactory` and IdCodec` classes) composite ids may also be used in data objects and REST APIs like the existing root ids.

[source,java]
.Example composite id based on an example string id and an example uuid
----
@IdTypeName("example.ExampleCompositeId")
public final class ExampleCompositeId extends AbstractCompositeId {
  private static final long serialVersionUID = 1L;

  private ExampleCompositeId(ExampleStringId c1, ExampleUuId c2) {
    super(c1, c2);
  }

  @RawTypes
  public static ExampleCompositeId of(String c1, UUID c2) {
    if (StringUtility.isNullOrEmpty(c1) || c2 == null) {
      return null;
    }
    return new ExampleCompositeId(ExampleStringId.of(c1), ExampleUuId.of(c2));
  }

  public static ExampleCompositeId of(ExampleStringId c1, ExampleUuId c2) {
    if (c1 == null || c2 == null) {
      return null;
    }
    return new ExampleCompositeId(c1, c2);
  }
}
----

== Calendar Widget

The calendar component item of the calendar widget has new attributes:

* subjectIconId - icon is showed in the calendar component in front of the subject
* subjectLabel - label in tooltip on top of the subject
* subjectAppLink - appLink in tooltip of calendar component
* descriptionElements - list of `ICalendarItemDescriptionElement` which is displayed in the body of the tooltip of the calendar component

.Calendar Component
image::{rnimgsdir}/calendar_tooltip.png[]

Further the calendar provides now a time range selection in the day, work week and week mode. By default, this feature is disabled, it can be configured with the `rangeSelectionAllowed` property. The start point and end point of the current selected time range can be accessed with the `selectedRange` property.

== Categories for health checkers

For the health check servlet `org.eclipse.scout.rt.server.commons.healthcheck.AbstractHealthCheckServlet` a new query parameter _category_ has been introduced to create the possibility to check only some specific health checkers for a specific category. If a category is supplied using the parameter, the actual `IHealthChecker` checkers are filtered using the method `org.eclipse.scout.rt.server.commons.healthcheck.IHealthChecker.acceptCategory(HealthCheckCategoryId)`.

If no category is provided there is no change in behavior and all checkers are executed.
If an invalid category is provided an error is logged and the same behavior is executed as no category was provided.

=== API changes:

* New method `org.eclipse.scout.rt.server.commons.healthcheck.IHealthChecker.acceptCategory(HealthCheckCategoryId)` was added, default implementation always returns `true`
* Parameter `HealthCheckCategoryId` was added for `org.eclipse.scout.rt.server.commons.healthcheck.IHealthChecker.checkHealth(RunContext, HealthCheckCategoryId)`; if health check itself does not rely on a specific category ignore this parameter
* Parameter `HealthCheckCategoryId` was added for `org.eclipse.scout.rt.server.commons.healthcheck.AbstractHealthChecker.execCheckHealth(HealthCheckCategoryId)`; if health check itself does not rely on a specific category ignore this parameter

